<template>
  <require from='templates/profile/bio'></require>
  <require from='templates/profile/profile-navigation'></require>
  <require from='templates/user/user-filter'></require>
    <section class="main-content-wrapper">
    <div class="pure-g">
      <div class="pure-u-1-2 pure-u-sm-1-6">
        <div class="pure-g">
          <div class="pure-u-1-2 pure-u-sm-1">
            <img id="profilePicture" src.bind="user.avatar_image.url" class="floatme pure-img ${showBanner? 'clean' : ''}" click.trigger="toggleVisible()"
            />
          </div>
          <div if.bind="user.you_can_follow" class="pure-u-1-2 pure-u-sm-1">
            <user-filter user.bind="user"></user-filter>
          </div>
        </div>
      </div>
      <div id="banner" class="pure-u-1 pure-u-sm-5-6 ${showBanner? 'clean' : ''}" css="background-image: url(${user.cover_image.url});">
        <div class="pure-g">
          <div id="profileDetails" class="pure-u-1 pure-u-md-4-5  pure-u-lg-2-3 ${showBanner? 'clean' : ''}">
            <h2>
              <profile-navigation user.bind="user"></profile-navigation>
            </h2>
            <bio user.bind="user"></bio>
            <nav id="profile-links" class="pure-menu pure-menu-horizontal">
              <ul class="pure-menu-list">
                <li class="pure-menu-item">
                  <a class="pure-menu-link ${router.navigation[0].isActive ? 'pure-menu-selected' : ''}" href="${state.token? 'profile/following/' + user.id : 'profile'}"><i class="fa fa-arrow-circle-left"></i> ${user.counts.following}</a>
                </li>
                <li class="pure-menu-item">
                  <a class="pure-menu-link ${router.navigation[1].isActive ? 'pure-menu-selected' : ''}" href="${state.token? 'profile/followers/' + user.id : 'profile'}"><i class="fa fa-arrow-circle-right"></i> ${user.counts.followers}</a>
                </li>
                <li class="pure-menu-item">
                  <a class="pure-menu-link ${router.navigation[2].isActive ? 'pure-menu-selected' : ''}" href="profile/posts/${user.id}"><i class="fa fa-pencil-square-o"></i> ${user.counts.posts}</a>
                </li>
                <li class="pure-menu-item">
                  <a class="pure-menu-link ${router.navigation[3].isActive ? 'pure-menu-selected' : ''}" href="profile/stars/${user.id}"><i class="fa fa-star"></i> ${user.counts.stars}</a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </div>
    </div>
    <router-view></router-view>
  </section>
</template>