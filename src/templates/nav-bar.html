<template>
  <require from='../resources/auth-filter'></require>
  <header>
    <nav id="main-nav" class="pure-menu pure-menu-horizontal pure-menu-fixed pure-menu-scrollable" role="navigation">
      <ul class="pure-menu-list">
        <li class="pure-menu-item menu-profile">
          <a if.bind="state.tokenReturned" class="pure-menu-link" href="/profile/user/${state.tokenReturned.user.id}">
      			<img src.bind="state.tokenReturned.user.avatar_image.url" />
          </a>
          <a if.bind="!state.tokenReturned" class="pure-menu-link pure-menu-heading" href="/">
            <span class="fa-stack fa-lg">
              <i class="fa fa-adn fa-stack-2x"></i>
            </span>
            <span> ${router.title}</span></a>
        </li>
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="#" click.delegate="showNewPost()">
            <span class="fa-stack fa-lg">
              <i class="fa fa-circle fa-stack-2x fa-inverse"></i>
              <i class="fa fa-edit fa-stack-1x"></i>
            </span>
            <span> New Post</span></a>
        </li>
        <li repeat.for="row of router.navigation | authFilter:isLoggedIn" class="pure-menu-item ${row.isActive ? 'pure-menu-selected' : ''}">
          <a class="pure-menu-link" href.bind="row.href">
            <span if.bind="row.settings.iconBack" class="fa-stack fa-lg">
              <i class="fa fa-${row.settings.iconBack} fa-stack-2x fa-inverse"></i>
              <i class="fa fa-${row.settings.icon} fa-stack-1x"></i>
            </span>
            <i if.bind="row.settings.icon && !row.settings.iconBack" class='fa fa-lg fa-${row.settings.icon}'></i>
            <span> ${row.title}</span>
          </a>
        </li>
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="#" click.delegate="LogInOut()">${LogInOutText}</a>
        </li>
      </ul>
    </nav>
  </header>
</template>