<template>
  <section class="au-animate main-content-wrapper">
    <div class="pure-g">
      <div class="pure-u-1-2 pure-u-sm-1-6">
        <img id="profilePicture" src.bind="data[0].user.avatar_image.url" class="floatme pure-img ${showBanner? 'clean' : ''}" click.trigger="toggleVisible($event)"
        />
      </div>
      <div id="banner" class="pure-u-1 pure-u-sm-5-6 ${showBanner? 'clean' : ''}" css="background-image: url(${data[0].user.cover_image.url});">
        <div class="pure-g">
          <div id="profileDetails" class="pure-u-1 pure-u-md-4-5  pure-u-lg-2-3 ${showBanner? 'clean' : ''}">
            <h2>
              <i class="fa fa-${userTypeIcon}"></i> ${data[0].user.name}
              <small>@
                <input type="text" id="un" value.bind="user_id" change.delegate="loadNewUser()" />
              </small> 
              <i class="fa fa-random randomize" click.delegate="randomize()"></i>
            </h2>
            <p>
              <span innerHTML.one-way="data[0].user.description.html" click.delegate="bioClicks($event)"></span>
              <br />
              <br />
              <i if.bind='data[0].user.verified_link' class="fa fa-check-circle"></i>
              <a href="${data[0].user.verified_link}">${data[0].user.verified_domain}</a>
              <a href="https://app.net/${user_id}"><i class="fa fa-adn"></i> Profile</a>
            </p>
            <nav class="pure-menu pure-menu-horizontal">
              <ul class="pure-menu-list">
                <li class="pure-menu-item">
                  <a class="pure-menu-link" href="#"><i class="fa fa-arrow-circle-left"></i> ${data[0].user.counts.following}</a>
                </li>
                <li class="pure-menu-item">
                  <a class="pure-menu-link" href="#"><i class="fa fa-arrow-circle-right"></i> ${data[0].user.counts.followers}</a>
                </li>
                <li class="pure-menu-item">
                  <a class="pure-menu-link" href="#"><i class="fa fa-pencil-square-o"></i> ${data[0].user.counts.posts}</a>
                </li>
                <li class="pure-menu-item">
                  <a class="pure-menu-link" href="#"><i class="fa fa-star"></i> ${data[0].user.counts.stars}</a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </div>
    </div>
    <div class="pure-g" if.bind="data[0].user.counts.posts>0">
      <div class="pure-u-1 stats-header">
        <h2>Last ${data.length} Posts <a href="#" click.delegate="loadMorePosts()">more...</a></h2>
      </div>
      <div class="pure-u-1 stats">
        <div class="pure-g">
          <div class="pure-u-1 pure-u-sm-1-2">
            <p>
              <strong>${numReplies}</strong> replied to, <strong>${numReposts}</strong> reposted and <strong>${numStars}</strong> starred.</p>
            <p>Last Posted <strong>${data[0].created_at | date }</strong> hours ago<span if.bind='data.length>1'> and ${data.length} posts before that it was <strong>${data[data.length-1].created_at | date}</strong> hours ago</span>.</p>
              <p if.bind="data[0].user.counts.posts<100000 && data[0].user.counts.posts>1">Based on the current rate it will be ${daysUntil100k} days before 100,000 posts is reached. Yay for arbitrary milestones!</p>
          </div>
          <div class="pure-u-1 pure-u-sm-1-2" if.bind="mentionByUsername.length>0">
            <p>Mostly mentioning
              <span repeat.for="men of mentionByUsername">
                <a href="#" click.delegate="$parent.loadMentionUser(men)">@${men.name}</a>(<strong>${men.count}</strong>)${$index
                <=numberOfTopMentions ? ',': ''}</span> <a href="#" click.delegate="moreMentions()">more...</a>
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
</template>