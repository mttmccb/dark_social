<template>
  <require from='../posts/post'></require>
  <require from='../posts/profile-bio'></require>
  <require from='../profile/menu-link'></require>
  <require from='../profile/profile-navigation'></require>
  <require from='../profile/profile-stats'></require>

	<div id="openModal" class="fadeInDownBig modalDialog ${showing? 'open': ''}">
		<div>
			<a href="#" click.delegate="hideModal()" title="Close" class="close">&times;</a>
			<a href="${adnimage.url}" target="_blank" ><img src.bind="adnimage.url" class="pure-img" /></a> 			
			<p>${adnimage.title}</p>
		</div>
	</div>
         
  <section class="au-animate main-content-wrapper">
    <div class="pure-g">
      <div class="pure-u-1-4 pure-u-sm-1-6">
        <img id="profilePicture" src.bind="data[0].user.avatar_image.url" class="floatme pure-img ${showBanner? 'clean' : ''}" click.trigger="toggleVisible($event)"
        />
      </div>
      <div id="banner" class="pure-u-1 pure-u-sm-5-6 ${showBanner? 'clean' : ''}" css="background-image: url(${data[0].user.cover_image.url});">
        <div class="pure-g">
          <div id="profileDetails" class="pure-u-1 pure-u-md-4-5  pure-u-lg-2-3 ${showBanner? 'clean' : ''}">
            <h2>
              <profile-navigation user.bind="data[0].user"></profile-navigation>
            </h2>
            <p><profile-bio user.bind="data[0].user"></profile-bio></p>
            <nav class="pure-menu pure-menu-horizontal">
              <ul class="pure-menu-list">
                <menu-link menu.bind="{ count: data[0].user.counts.following, icon:'arrow-circle-left' }"></menu-link>
                <menu-link menu.bind="{ count: data[0].user.counts.followers, icon:'arrow-circle-right' }"></menu-link>
                <menu-link menu.bind="{ count: data[0].user.counts.posts, icon:'pencil-square-o' }"></menu-link>
                <menu-link menu.bind="{ count: data[0].user.counts.stars, icon:'star' }"></menu-link>
              </ul>
            </nav>
          </div>
        </div>
      </div>
    </div>
    <div class="pure-g posts" if.bind="data[0].user.counts.posts>0">
      <div class="pure-u-1 stats-header">
        <h2>Last ${data.length} Posts <a href="#" click.delegate="loadMorePosts()">more...</a></h2>
      </div>
      <div class="pure-u-1 stats">
          <profile-stats posts.bind="data"></profile-stats>
      </div>
    </div>   
    <div id="posts" class="posts">
      <post post.bind="{ data: post, avatar: false}" repeat.for="post of data"></post>        
    </div>
  </section>
</template>