<template>
  <section class="au-animate">
    <div class="pure-g">
      <div class="pure-u-1-2 pure-u-sm-1-6">
        <img id="profilePicture" src.bind="data[0].user.avatar_image.url" class="pure-img ${showBanner? 'clean' : ''}" click.trigger="toggleVisible($event)"
        />
      </div>
      <div class="pure-u-1 pure-u-sm-5-6">
        <div id="banner" css="background-image: url(${data[0].user.cover_image.url});" class="${showBanner? 'clean' : ''}">
          <div class="pure-g">
            <div class="pure-u-1 pure-u-md-4-5  pure-u-lg-2-3">
              <div id="profileDetails" class="${showBanner? 'clean' : ''}">
                <h2>
                  <i class="fa fa-${userTypeIcon}"></i> ${data[0].user.name}
                  <small>@
                    <input type="text" id="un" value.bind="user_id" change.delegate="loadNewUser()" />
                  </small>
                </h2>
                <p>
                  <span innerHTML.one-way="data[0].user.description.html" click.delegate="bioClicks($event)"></span>
                  <br />
                  <br />
                  <i class="fa fa-check-circle"></i>
                  <a href="${data[0].user.verified_link}">${data[0].user.verified_domain}</a>
                  <a href="https://app.net/${user_id}"><i class="fa fa-adn"></i></a>
                </p>
                <nav class="pure-menu pure-menu-horizontal">
                  <ul class="pure-menu-list">
                    <li class="pure-menu-item">
                      <a class="pure-menu-link" href="#"><i class="fa fa-arrow-circle-left"></i> ${data[0].user.counts.following}</a>
                    </li>
                    <li class="pure-menu-item">
                      <a class="pure-menu-link" href="#"><i class="fa fa-arrow-circle-right"></i> ${data[0].user.counts.followers}</a>
                    </li>
                    <li class="pure-menu-item">
                      <a class="pure-menu-link" href="#"><i class="fa fa-pencil-square-o"></i> ${data[0].user.counts.posts}</a>
                    </li>
                    <li class="pure-menu-item">
                      <a class="pure-menu-link" href="#"><i class="fa fa-star"></i> ${data[0].user.counts.stars}</a>
                    </li>
                  </ul>
                </nav>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="pure-g">
      <div class="pure-u-1">
        <div class="stats-header">
          <h2>Last ${data.length} Posts <a href="#" click.delegate="loadMorePosts()">more...</a></h2>
        </div>
      </div>
      <div class="pure-u-1">
        <div class="stats">
          <div class="pure-g">
            <div class="pure-u-1 pure-u-sm-1-2">
              <p>
                <strong>${numReplies}</strong> replied to, <strong>${numReposts}</strong> reposted and <strong>${numStars}</strong> starred.</p>
              <p>Last Posted <strong>${data[0].created_at | date }</strong> hours ago and ${data.length} posts before that it was <strong>${data[data.length-1].created_at | date}</strong> hours ago.</p>
                <p if.bind="data[0].user.counts.posts<100000">Based on your current rate you have ${daysUntil100k} days until you reach 100,000 posts. Yay for arbitrary milestones!</p>
            </div>
            <div class="pure-u-1 pure-u-sm-1-2">
              <p>Mostly mentioning
                <span if.bind="mentionByUsername.length==0">nobody.</span>
                <span repeat.for="men of mentionByUsername">
                  <a href="#" click.delegate="$parent.loadMentionUser(men)">@${men.name}</a>(<strong>${men.count}</strong>)${$index
                  <=numberOfTopMentions ? ',': ''}</span> <a href="#" click.delegate="moreMentions()">more...</a>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</template>